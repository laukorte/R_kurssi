<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Harjoituskerta 1 | Sosiaalitieteiden tilastollisten menetelmien R-harjoituskurssi, 2 op</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Harjoituskerta 1 | Sosiaalitieteiden tilastollisten menetelmien R-harjoituskurssi, 2 op" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Harjoituskerta 1 | Sosiaalitieteiden tilastollisten menetelmien R-harjoituskurssi, 2 op" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  

<meta name="author" content="Terhi Auvinen, Samuli Koponen, Lauri Kortelainen &amp; Antti Kouvo" />


<meta name="date" content="2023-11-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tervetuloa-sosiaalitieteiden-r-kurssille.html"/>
<link rel="next" href="harjoituskerta-2.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.9/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R-kurssi</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>R-harjoituskurssi</a></li>
<li class="chapter" data-level="" data-path="tervetuloa-sosiaalitieteiden-r-kurssille.html"><a href="tervetuloa-sosiaalitieteiden-r-kurssille.html"><i class="fa fa-check"></i>Tervetuloa sosiaalitieteiden R-kurssille!</a></li>
<li class="chapter" data-level="1" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html"><i class="fa fa-check"></i><b>1</b> Harjoituskerta 1</a>
<ul>
<li class="chapter" data-level="1.0.1" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#ohjelmassa-tänään"><i class="fa fa-check"></i><b>1.0.1</b> Ohjelmassa tänään</a></li>
<li class="chapter" data-level="1.1" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#yleiset-asiat"><i class="fa fa-check"></i><b>1.1</b> Yleiset asiat</a></li>
<li class="chapter" data-level="1.2" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#kyselytutkimus"><i class="fa fa-check"></i><b>1.2</b> Kyselytutkimus</a></li>
<li class="chapter" data-level="1.3" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#r-ja-rstudio"><i class="fa fa-check"></i><b>1.3</b> R ja RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#konsoli"><i class="fa fa-check"></i><b>1.3.1</b> Konsoli</a></li>
<li class="chapter" data-level="1.3.2" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#aineiston-syöttäminen-rään"><i class="fa fa-check"></i><b>1.3.2</b> Aineiston syöttäminen R:ään</a></li>
<li class="chapter" data-level="1.3.3" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#esimerkki"><i class="fa fa-check"></i><b>1.3.3</b> Esimerkki</a></li>
<li class="chapter" data-level="1.3.4" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#r-script"><i class="fa fa-check"></i><b>1.3.4</b> R script</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#tietorakenteet"><i class="fa fa-check"></i><b>1.4</b> Tietorakenteet</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#vektorit"><i class="fa fa-check"></i><b>1.4.1</b> Vektorit</a></li>
<li class="chapter" data-level="1.4.2" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#datakehikko"><i class="fa fa-check"></i><b>1.4.2</b> Datakehikko</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#työskentely-rssä"><i class="fa fa-check"></i><b>1.5</b> Työskentely R:ssä</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#funktiot"><i class="fa fa-check"></i><b>1.5.1</b> Funktiot</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#aineiston-tuominen-rään"><i class="fa fa-check"></i><b>1.6</b> Aineiston tuominen R:ään</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#rn-valmiit-aineistot"><i class="fa fa-check"></i><b>1.6.1</b> R:n valmiit aineistot</a></li>
<li class="chapter" data-level="1.6.2" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#european-social-survey-2016"><i class="fa fa-check"></i><b>1.6.2</b> European Social Survey 2016</a></li>
<li class="chapter" data-level="1.6.3" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#aineiston-ottaminen-käyttöön"><i class="fa fa-check"></i><b>1.6.3</b> Aineiston ottaminen käyttöön</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#valmiin-aineiston-tarkastelu"><i class="fa fa-check"></i><b>1.7</b> Valmiin aineiston tarkastelu</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#muuttujien-uudelleennimeäminen"><i class="fa fa-check"></i><b>1.7.1</b> Muuttujien uudelleennimeäminen</a></li>
<li class="chapter" data-level="1.7.2" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#muuttujien-mitta-asteikon-muuttaminen"><i class="fa fa-check"></i><b>1.7.2</b> Muuttujien mitta-asteikon muuttaminen</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#muuttujien-arvojen-muuttaminen"><i class="fa fa-check"></i><b>1.8</b> Muuttujien arvojen muuttaminen</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#puuttuvien-arvojen-luominen"><i class="fa fa-check"></i><b>1.8.1</b> Puuttuvien arvojen luominen</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#uuden-muuttujan-luominen-aineistoon"><i class="fa fa-check"></i><b>1.9</b> Uuden muuttujan luominen aineistoon</a></li>
<li class="chapter" data-level="1.10" data-path="harjoituskerta-1.html"><a href="harjoituskerta-1.html#muuttujan-poistaminen-aineistosta"><i class="fa fa-check"></i><b>1.10</b> Muuttujan poistaminen aineistosta</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html"><i class="fa fa-check"></i><b>2</b> Harjoituskerta 2</a>
<ul>
<li class="chapter" data-level="2.1" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#kuvailevat-tunnusluvut-epäjatkuvaluonteisille-muuttujille"><i class="fa fa-check"></i><b>2.1</b> Kuvailevat tunnusluvut epäjatkuvaluonteisille muuttujille</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#moodi-ja-mediaani"><i class="fa fa-check"></i><b>2.1.1</b> Moodi ja mediaani</a></li>
<li class="chapter" data-level="2.1.2" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#range"><i class="fa fa-check"></i><b>2.1.2</b> Range</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#kuvailevat-tunnusluvut-jatkuvaluonteisille-muuttujille"><i class="fa fa-check"></i><b>2.2</b> Kuvailevat tunnusluvut jatkuvaluonteisille muuttujille</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#keskiarvon-ja--hajonnan-laskeminen"><i class="fa fa-check"></i><b>2.2.1</b> Keskiarvon ja -hajonnan laskeminen</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#aineiston-graafinen-kuvailu"><i class="fa fa-check"></i><b>2.3</b> Aineiston graafinen kuvailu</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#histogrammi"><i class="fa fa-check"></i><b>2.3.1</b> Histogrammi</a></li>
<li class="chapter" data-level="2.3.2" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#hajontakuvio-plot"><i class="fa fa-check"></i><b>2.3.2</b> Hajontakuvio (plot)</a></li>
<li class="chapter" data-level="2.3.3" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#boxplot"><i class="fa fa-check"></i><b>2.3.3</b> Boxplot</a></li>
<li class="chapter" data-level="2.3.4" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#ristiintaulukointi"><i class="fa fa-check"></i><b>2.3.4</b> Ristiintaulukointi</a></li>
<li class="chapter" data-level="" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#frekvenssijakaumat"><i class="fa fa-check"></i>Frekvenssijakaumat</a></li>
<li class="chapter" data-level="" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#pylväsdiagrammi"><i class="fa fa-check"></i>Pylväsdiagrammi</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#osa-aineiston-poimiminen"><i class="fa fa-check"></i><b>2.4</b> Osa-aineiston poimiminen</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#komennon-sisällä"><i class="fa fa-check"></i><b>2.4.1</b> Komennon sisällä</a></li>
<li class="chapter" data-level="2.4.2" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#uuden-aineiston-luominen-operaattorien-avulla"><i class="fa fa-check"></i><b>2.4.2</b> Uuden aineiston luominen operaattorien avulla</a></li>
<li class="chapter" data-level="2.4.3" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#uuden-aineiston-luominen-komennon-avulla"><i class="fa fa-check"></i><b>2.4.3</b> Uuden aineiston luominen komennon avulla</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#muuttujien-muokkaaminen"><i class="fa fa-check"></i><b>2.5</b> Muuttujien muokkaaminen</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#iän-laskeminen-syntymävuoden-perusteella"><i class="fa fa-check"></i><b>2.5.1</b> Iän laskeminen syntymävuoden perusteella</a></li>
<li class="chapter" data-level="2.5.2" data-path="harjoituskerta-2.html"><a href="harjoituskerta-2.html#muuttujan-arvojen-korvaaminenmuuttaminen"><i class="fa fa-check"></i><b>2.5.2</b> Muuttujan arvojen korvaaminen/muuttaminen</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="harjoituskerta-3.html"><a href="harjoituskerta-3.html"><i class="fa fa-check"></i><b>3</b> Harjoituskerta 3</a>
<ul>
<li class="chapter" data-level="3.1" data-path="harjoituskerta-3.html"><a href="harjoituskerta-3.html#muuttujien-muunnokset"><i class="fa fa-check"></i><b>3.1</b> Muuttujien muunnokset</a></li>
<li class="chapter" data-level="3.2" data-path="harjoituskerta-3.html"><a href="harjoituskerta-3.html#aineiston-luominen"><i class="fa fa-check"></i><b>3.2</b> Aineiston luominen</a></li>
<li class="chapter" data-level="3.3" data-path="harjoituskerta-3.html"><a href="harjoituskerta-3.html#ristiintaulukointi-1"><i class="fa fa-check"></i><b>3.3</b> Ristiintaulukointi</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="harjoituskerta-3.html"><a href="harjoituskerta-3.html#ristiintaulukointi-ja-chi2-testi"><i class="fa fa-check"></i><b>3.3.1</b> Ristiintaulukointi ja <span class="math inline">\(\chi^2\)</span>-testi</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="harjoituskerta-4.html"><a href="harjoituskerta-4.html"><i class="fa fa-check"></i><b>4</b> Harjoituskerta 4</a></li>
<li class="chapter" data-level="5" data-path="harjoituskerta-5.html"><a href="harjoituskerta-5.html"><i class="fa fa-check"></i><b>5</b> Harjoituskerta 5</a></li>
<li class="chapter" data-level="6" data-path="harjoituskerta-6.html"><a href="harjoituskerta-6.html"><i class="fa fa-check"></i><b>6</b> Harjoituskerta 6</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sosiaalitieteiden tilastollisten menetelmien R-harjoituskurssi, 2 op</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="harjoituskerta-1" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">1</span> Harjoituskerta 1<a href="harjoituskerta-1.html#harjoituskerta-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<table class="table" style="margin-left: auto; margin-right: auto;">
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;color: white !important;background-color: #077d9e !important;">
Osa
</td>
<td style="text-align:left;font-weight: bold;color: white !important;background-color: #077d9e !important;">
Käsiteltävät asiat (viitteellinen asiasisältö, muutoksia voi tulla)
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #ccd8df !important;font-weight: bold;font-size: 17px;">
1
</td>
<td style="text-align:left;background-color: #ccd8df !important;font-weight: bold;font-size: 17px;">
RStudioon ja R-kieleen tutustuminen
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #e7ecf0 !important;">
2
</td>
<td style="text-align:left;background-color: #e7ecf0 !important;">
Aineiston kuvailu: frekvenssijakauma, tunnusluvut, kuviot, osa-aineiston poimiminen ja aineston ryhmittäinen tarkastelu
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #ccd8df !important;">
3
</td>
<td style="text-align:left;background-color: #ccd8df !important;">
Yksinkertaiset muuttujamuunnokset, kahden muuttujan välinen yhteisvaihtelu, ristiintaulukointi
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #e7ecf0 !important;">
4
</td>
<td style="text-align:left;background-color: #e7ecf0 !important;">
Korrelaatiot ja hajotakuvio, summamuuttujan tekeminen
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #ccd8df !important;">
5
</td>
<td style="text-align:left;background-color: #ccd8df !important;">
Keskiarvotestit: t-testi ja ANOVA
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #e7ecf0 !important;">
6
</td>
<td style="text-align:left;background-color: #e7ecf0 !important;">
Kertausta ja ohjausta ryhmätehtävään
</td>
</tr>
</tbody>
</table>
<div id="ohjelmassa-tänään" class="section level3 hasAnchor" number="1.0.1">
<h3><span class="header-section-number">1.0.1</span> Ohjelmassa tänään<a href="harjoituskerta-1.html#ohjelmassa-tänään" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Päivän aikataulu</li>
<li>Muita käytännön asioita</li>
<li>Kurssin suorittaminen ja sisältö</li>
<li>RStudion toimintojen esittely ja R-kielen perusteita</li>
<li>Harjoitus / kotitehtävän tehtävänanto</li>
</ul>
<p>Tällä kerralla opimme perusteet:
* mikä on R
* miten luodaan muuttujia
* miten muuttujia käsitellään
* miten aineisto tuodaan R:ään
* miten aineistoa käsitellään</p>
<!-- Muistutuksena ensimmäisen harjoituskerran 

1.1. Tilastollisen tutkimuksen (kyselytutkimuksen) perusjutuista harkiten kertausmateriaalia luentotallenteeksi (Antti toteuttaa tallenteet)

1.2. R-ohjelman esittely. Esittelyvideo? <-- etsitään ensisijaisesti valmis/ jo olemassa oleva SUOMENKIELINEN R-tutoriaali, jos ei löydy, tehdään itse. (Samuli tekee, Lauri avustaa koodin kanssa ja Terhi editoi).

1.3. yksinkertaistettu versio havaintomatriisista/ aineiston syöttämisestä manuaalisesti, ks. mallia Nummenmaan kirjasta miten toteutettu (sis. Vektorit ja tietotyypit) (Terhi + Samuli tekee)

1.4. UUTTA: Aineiston tuominen Esim. Excelistä (Terhi + Samuli tekee)

1.5. UUTTA: R-koodi tutuksi (riveihin, sarakkeisiin ym. Viittaaminen, ks. Mallia Nummenmaan kirjasta) (Terhi + Samuli tekee) -->
</div>
<div id="yleiset-asiat" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Yleiset asiat<a href="harjoituskerta-1.html#yleiset-asiat" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="kyselytutkimus" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Kyselytutkimus<a href="harjoituskerta-1.html#kyselytutkimus" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Tilastollisen tutkimuksen (kyselytutkimuksen) perusjutuista harkiten kertausmateriaalia luentotallenteeksi</p>
<iframe width="100%" height="400"
  src="https://www.youtube.com/embed/cNXO6znx7PI"
  frameborder="0" allow="autoplay; encrypted-media"
  allowfullscreen></iframe>
</div>
<div id="r-ja-rstudio" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> R ja RStudio<a href="harjoituskerta-1.html#r-ja-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Tähän Rstudion esittelyvideo</p>
<iframe width="100%" height="400"
  src="https://www.youtube.com/embed/lVKMsaWju8w"
  frameborder="0" allow="autoplay; encrypted-media"
  allowfullscreen></iframe>
<p>Oheisessa kuvassa on esitetty Rstudion neljä tärkeintä kenttää:</p>
<ul>
<li>Vasemmassa ylänurkassa on konsoli (tai komentokehoite), johon käskyt
kirjoitetaan ja tulostetaan</li>
<li>Oikeassa ylänurkassa on projektin ympäristö, jossa näkyy kaikki
projektin aineistot, muuttujat, vektorit, yms.</li>
<li>Vasemmassa alanurkassa on projektin tiedostot</li>
<li>Oikeassa alanurkassa on skripti, johon voidaan dokumentoida
projektin kulkua, komennot, yms.</li>
</ul>
<div class="figure">
<img src="images/Rstudio.png" alt="" />
<p class="caption">Rstudion perusnäkymä</p>
</div>
<div id="konsoli" class="section level3 hasAnchor" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> Konsoli<a href="harjoituskerta-1.html#konsoli" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R:n on komentopohjainen ohjelma, jonka käyttöliittymänä toimii
komentoikkuna (Console). Siihen kirjoitetaan komennot ja komentojen
tulokset tulostuvat myös komentoikkunaan. R:ää voidaan pitää
“interaktiivisena laskukoneena” (Rajala 2001) ja komentojen lisäksi
konsolia voidaankin käyttää yksinkertaisena laskimena.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="harjoituskerta-1.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">+</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
</div>
<div id="aineiston-syöttäminen-rään" class="section level3 hasAnchor" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> Aineiston syöttäminen R:ään<a href="harjoituskerta-1.html#aineiston-syöttäminen-rään" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Edellä annettu komento laski yhteen luvut 1 ja 2 ja tulosti näiden
summan. Näin toimittaessa tulos ainoastaan tulostetaan eikä se jää
muistiin. R:lle pitääkin kertoa erikseen milloin tulos halutaan
tallentaa muistiin. Arvon tallettaminen muuttujaan tapahtuu
sijoitusoperaattorilla “&lt;-”. Luodaan seuraavaksi muuttuja nimeltään
<em>luku</em>, jolle annetaan arvo yksi. Tämän jälkeen tulostetaan muuttujan
sisältö kirjoittamalla muuttujan nimi ja ajamalla tämä komento. Monessa
muussa ohjelmointikielessä muuttujan arvon tulostamiseen pitäisi kutsua
erikseen tulostusfunktiota (kuten print), mutta R:ssä tämä ei ole
tarpeellista.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="harjoituskerta-1.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sijoitetaan luku 1 muuttujaan &#39;luku&#39;</span></span>
<span id="cb3-2"><a href="harjoituskerta-1.html#cb3-2" aria-hidden="true" tabindex="-1"></a>luku <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb3-3"><a href="harjoituskerta-1.html#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="harjoituskerta-1.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tulostetaan muuttujan &#39;luku&#39; sisältö</span></span>
<span id="cb3-5"><a href="harjoituskerta-1.html#cb3-5" aria-hidden="true" tabindex="-1"></a>luku </span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Muuttuja <em>luku</em> sisältää nyt arvon 1 ja sitä voidaan käyttää viittamalla
sen nimeen. Muuttujia voidaan käyttää laskuoperaatioissa numeroiden
sijaan. Seuraavassa tulostetaan edellä luodun muuttujan arvo lisättynä
kahdella.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="harjoituskerta-1.html#cb5-1" aria-hidden="true" tabindex="-1"></a>luku <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Alkuperäisen muuttujan arvo on edelleen yksi, koska yllä tehtiin vain
tulostus.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="harjoituskerta-1.html#cb7-1" aria-hidden="true" tabindex="-1"></a>luku</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Tehdään uusi muuttuja <em>luku2</em>, johon talletetaan uusi tulos ja
tulostetaan uuden muuttujan arvo.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="harjoituskerta-1.html#cb9-1" aria-hidden="true" tabindex="-1"></a>luku2 <span class="ot">&lt;-</span> luku <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb9-2"><a href="harjoituskerta-1.html#cb9-2" aria-hidden="true" tabindex="-1"></a>luku2</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>HUOM! Jos samaan muuttujaan talletaan jokin muu luku tai tulos, R ei
kysele käyttäjän tahtotilaa tai lupia, vaan tekee mitä pyydetään. Ole
siis tarkkana, kun teet muuttujia!</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="harjoituskerta-1.html#cb11-1" aria-hidden="true" tabindex="-1"></a>luku2 <span class="ot">&lt;-</span> luku <span class="sc">+</span> <span class="dv">5</span></span>
<span id="cb11-2"><a href="harjoituskerta-1.html#cb11-2" aria-hidden="true" tabindex="-1"></a>luku2</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>Samalla logiikalla voidaan myös kopioida muuttuja sijoittamalla vanha
muuttuja uuteen muuttujaan.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="harjoituskerta-1.html#cb13-1" aria-hidden="true" tabindex="-1"></a>luku3 <span class="ot">&lt;-</span> luku2</span>
<span id="cb13-2"><a href="harjoituskerta-1.html#cb13-2" aria-hidden="true" tabindex="-1"></a>luku4 <span class="ot">&lt;-</span> luku2</span></code></pre></div>
<p>Muuttujia voidaan poistaa komennolla <strong>rm()</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="harjoituskerta-1.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(luku3, luku4)</span></code></pre></div>
</div>
<div id="esimerkki" class="section level3 hasAnchor" number="1.3.3">
<h3><span class="header-section-number">1.3.3</span> Esimerkki<a href="harjoituskerta-1.html#esimerkki" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Komentoja voidaan käyttää myös funktion sisällä. Seuraavassa luodaan
ensin tuhat havaintoa normaalijakautuneesta muuttujasta, jonka keskiarvo
on 100 ja keskihajonta on 15. Sen jälkeen lasketaan muuttujan keskivirhe
(= sd / n^0.5) käyttämällä hyväksi komentoja.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="harjoituskerta-1.html#cb15-1" aria-hidden="true" tabindex="-1"></a>aly <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="dv">100</span>, <span class="dv">15</span>)</span>
<span id="cb15-2"><a href="harjoituskerta-1.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(aly)</span></code></pre></div>
<pre><code>## [1] 15.01492</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="harjoituskerta-1.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(aly)</span></code></pre></div>
<pre><code>## [1] 1000</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="harjoituskerta-1.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">length</span>(aly))</span></code></pre></div>
<pre><code>## [1] 31.62278</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="harjoituskerta-1.html#cb21-1" aria-hidden="true" tabindex="-1"></a>se <span class="ot">&lt;-</span> <span class="fu">sd</span>(aly) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">length</span>(aly)) <span class="co"># Huomaa, ettei tässä käytetä lukua 1000, vaan vektorin pituutta</span></span>
<span id="cb21-2"><a href="harjoituskerta-1.html#cb21-2" aria-hidden="true" tabindex="-1"></a>se</span></code></pre></div>
<pre><code>## [1] 0.4748134</code></pre>
</div>
<div id="r-script" class="section level3 hasAnchor" number="1.3.4">
<h3><span class="header-section-number">1.3.4</span> R script<a href="harjoituskerta-1.html#r-script" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Edellä komennot on annettu komentoikkunan kautta. Komennot voidaan
suorittaa myös R scriptin avulla. Se vastaa SPSS:n syntaksia tai Stata
do-filea.</p>
</div>
</div>
<div id="tietorakenteet" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Tietorakenteet<a href="harjoituskerta-1.html#tietorakenteet" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Seuraavassa esitellään kurssin kannalta tärkeimpiä tietorakenteita.
Näitä ovat erityisesti vektorit (vector) ja datakehikot (data.frame).
Taulukkomuotoiset tilastolliset aineistot luetaan R:ään usein
datakehikoksi, joiden sarakkeet ovat vektori-tietorakenteita.</p>
<div id="vektorit" class="section level3 hasAnchor" number="1.4.1">
<h3><span class="header-section-number">1.4.1</span> Vektorit<a href="harjoituskerta-1.html#vektorit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vektori on R:n yksinkertaisin tietorakenne. Vektorit koostuvat alkioista
ja alkiot ovat vektorissa tietyssä järjestyksessä. Vektori luodaan
funktiolla <strong>c</strong>. Itse asiassa yllä luotu muuttujat ja <em>luku</em> ja
<em>lukuplus2</em> ovat vektoreita (ns. skalaarivektoreita), joiden pituus on
yksi. Tällöin ei tarvitse käyttää funktiota <strong>c</strong>.</p>
<p>Luodaan vektori, jossa on luvut 1, 3 ja 10 ja talletetaan se muuttujaan
<em>v1</em>.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="harjoituskerta-1.html#cb23-1" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">10</span>)</span>
<span id="cb23-2"><a href="harjoituskerta-1.html#cb23-2" aria-hidden="true" tabindex="-1"></a>v1</span></code></pre></div>
<pre><code>## [1]  1  3 10</code></pre>
<p>Edellä luotujen muuttujien tapaan myös vektoriin voidaan viitata
pelkästään sen nimellä.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="harjoituskerta-1.html#cb25-1" aria-hidden="true" tabindex="-1"></a>v1 <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1]  3  9 30</code></pre>
<p>Tai..</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="harjoituskerta-1.html#cb27-1" aria-hidden="true" tabindex="-1"></a>v1 <span class="sc">*</span> luku2</span></code></pre></div>
<pre><code>## [1]  6 18 60</code></pre>
<p>Vektorin alkioihin viitataan hakasulkeilla. Tulostetaan edellä luodun
vektorin toinen alkio.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="harjoituskerta-1.html#cb29-1" aria-hidden="true" tabindex="-1"></a>v1[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Alkioihin viittaamalla voidaan myös korvata vektorin arvoja.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="harjoituskerta-1.html#cb31-1" aria-hidden="true" tabindex="-1"></a>v1[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb31-2"><a href="harjoituskerta-1.html#cb31-2" aria-hidden="true" tabindex="-1"></a>v1</span></code></pre></div>
<pre><code>## [1]  1  4 10</code></pre>
<p>Vektoreita voidaan luoda myös yhdistelemällä vektoreita.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="harjoituskerta-1.html#cb33-1" aria-hidden="true" tabindex="-1"></a>vektori <span class="ot">&lt;-</span> <span class="fu">c</span>(luku, luku2, v1)</span>
<span id="cb33-2"><a href="harjoituskerta-1.html#cb33-2" aria-hidden="true" tabindex="-1"></a>vektori</span></code></pre></div>
<pre><code>## [1]  1  6  1  4 10</code></pre>
<p>Vektorin alkioiden täytyy olla aina samaa tietotyyppiä. Keskeisimmät
tietotyypit ovat <strong>numeerinen</strong> eli reaaliluku (numeric), <strong>merkkijono</strong>
(character) sekä <strong>looginen</strong> (logical). Edellä luodut vektorit olivat
tietotyyppiä <strong>numeric</strong>. Vektori, joka on tietotyyppiä looginen, saa
arvoja TRUE tai FALSE. Alla esimerkkejä vektoreista, jotka ovat
tyypiltään merkkijonoja ja loogisia.</p>
<p>Vektorien tietotyyppi vaikuttaa siihen, miten R niitä käsittelee esimerkiksi
nalyyseissa ja kuvioiden tulostamisessa. On siis hyvä olla selvillä käytettävien muuttujien tietotyypeistä. Vektorin
tietotyypin voi kätevästi selvitää funktion <strong>typeof</strong> avulla. Vektorin pituus
saadaan selville käyttämällä funktiota <strong>length</strong>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="harjoituskerta-1.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb35-2"><a href="harjoituskerta-1.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Selvitetään edellä luomamme vektori1:sen tietotyyppi</span></span>
<span id="cb35-3"><a href="harjoituskerta-1.html#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(v1)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="harjoituskerta-1.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Luodaan vektori, joka on tyypiltään merkkijono</span></span>
<span id="cb37-2"><a href="harjoituskerta-1.html#cb37-2" aria-hidden="true" tabindex="-1"></a>elaimet <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;kissa&quot;</span>, <span class="st">&quot;koira&quot;</span>, <span class="st">&quot;hiiri&quot;</span>, <span class="st">&quot;elefantti&quot;</span>)</span>
<span id="cb37-3"><a href="harjoituskerta-1.html#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># varmistetaan tietotyyppi typeof-funktiolla</span></span>
<span id="cb37-4"><a href="harjoituskerta-1.html#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(elaimet)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="harjoituskerta-1.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Looginen tietotyyppi</span></span>
<span id="cb39-2"><a href="harjoituskerta-1.html#cb39-2" aria-hidden="true" tabindex="-1"></a>looginen <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb39-3"><a href="harjoituskerta-1.html#cb39-3" aria-hidden="true" tabindex="-1"></a>looginen</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE  TRUE  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="harjoituskerta-1.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(looginen)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="harjoituskerta-1.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selvitetään aiemmin luotujen vektorien pituudet</span></span>
<span id="cb43-2"><a href="harjoituskerta-1.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(luku)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="harjoituskerta-1.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(v1)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="harjoituskerta-1.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(elaimet)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="harjoituskerta-1.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(looginen)</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<p>Tietotyypin ja vektorin pituuden voi tarkistaa myös
<em>environment</em>-välilehden alta, jossa on listattu kaikki vektorit,
muuttujat, yms. <img src="_book/images/tietorakenteet.png" /></p>
<div class="tehtava">
<p><span class="harj_teksti">Harjoitus:</span> Kokeile R-studiossa luoda uusia vektoreita.
Tutki niiden tietotyyppejä ja pituuksia. Mitä tapahtuu, jos luot
vektorin arvoilla 2, “kissa”, 5?</p>
</div>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="harjoituskerta-1.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="st">&quot;kissa&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1&quot;     &quot;kissa&quot;</code></pre>
</div>
<div id="datakehikko" class="section level3 hasAnchor" number="1.4.2">
<h3><span class="header-section-number">1.4.2</span> Datakehikko<a href="harjoituskerta-1.html#datakehikko" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Edellä esitettyjä tietotyyppejä ei voi yhdistää yhdeksi matriisiksi. Sen sijaan
datakehikossa tämä on mahdollista ja sen takia sitä onkin järkevä käyttää
ihmistieteellisessä tutkimuksessa, jossa vastaukset voivat olla niin numeraalisia kuin
tekstiäkin.</p>
</div>
</div>
<div id="työskentely-rssä" class="section level2 hasAnchor" number="1.5">
<h2><span class="header-section-number">1.5</span> Työskentely R:ssä<a href="harjoituskerta-1.html#työskentely-rssä" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R käyttää työkansiota, johon se oletusarvoisesti tallentaa tiedostot ja
joita se käyttää “juurena”. Esimerkiksi aineistoa tuodessa viitataan
tähän kansioon, joten sen sijainti tulee olla selvillä. Työkansion polku
voidaan tarkistaa <em>getwd</em>-komennolla:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="harjoituskerta-1.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>() <span class="co"># Tulostaa tämänhetkisen työkansion</span></span></code></pre></div>
<pre><code>## [1] &quot;C:/Users/samuliko/OneDrive - University of Eastern Finland/Documents/R_kurssi&quot;</code></pre>
<p>Työskentelyn helpottamiseksi tiedostot kannattaa siirtää työkansioon tai
työkansio voidaan muuttaa <em>setwd</em>-komennolla:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="harjoituskerta-1.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(&quot;C:/foo/bar/R_kurssi&quot;)</span></span></code></pre></div>
<div class="tehtava">
<p><span class="harj_teksti">Harjoitus:</span> Luo itsellesi työkansio, johon tallennat
tämän kurssin materiaalit ja aseta se työkansioksi</p>
</div>
<div id="funktiot" class="section level3 hasAnchor" number="1.5.1">
<h3><span class="header-section-number">1.5.1</span> Funktiot<a href="harjoituskerta-1.html#funktiot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Edellä on jo suoritettu joitakin funktioita. Funktiot ovat muotoa
<strong>nimi(parametri 1, parametri2..)</strong>.</p>
<!-- Aineiston tuominen alkaa -->
</div>
</div>
<div id="aineiston-tuominen-rään" class="section level2 hasAnchor" number="1.6">
<h2><span class="header-section-number">1.6</span> Aineiston tuominen R:ään<a href="harjoituskerta-1.html#aineiston-tuominen-rään" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="rn-valmiit-aineistot" class="section level3 hasAnchor" number="1.6.1">
<h3><span class="header-section-number">1.6.1</span> R:n valmiit aineistot<a href="harjoituskerta-1.html#rn-valmiit-aineistot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R sisältää useita esimerkkiaineistoja, joiden avulla R:n käyttöä voi harjoitella. Listan aineistoista saa <code>data()</code>-komennolla, joka
listaa kaikki valmiit aineistot. Haluamansa aineiston saa käyttöön <code>data()</code>-komennolla. Esimerkiksi Sveitsin sosioekonomisia indikaattoreita ja syntyvyystilastoja vuodelta 1888 voidaan tarkastella seuraavan komennen avulla. Tietoa aineistosta ja sen muuttujista saa <code>?swiss</code>-komennon avulla.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="harjoituskerta-1.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(swiss)</span>
<span id="cb56-2"><a href="harjoituskerta-1.html#cb56-2" aria-hidden="true" tabindex="-1"></a>swiss</span></code></pre></div>
<pre><code>##              Fertility Agriculture Examination Education Catholic Infant.Mortality
## Courtelary        80.2        17.0          15        12     9.96             22.2
## Delemont          83.1        45.1           6         9    84.84             22.2
## Franches-Mnt      92.5        39.7           5         5    93.40             20.2
## Moutier           85.8        36.5          12         7    33.77             20.3
## Neuveville        76.9        43.5          17        15     5.16             20.6
## Porrentruy        76.1        35.3           9         7    90.57             26.6
## Broye             83.8        70.2          16         7    92.85             23.6
## Glane             92.4        67.8          14         8    97.16             24.9
## Gruyere           82.4        53.3          12         7    97.67             21.0
## Sarine            82.9        45.2          16        13    91.38             24.4
## Veveyse           87.1        64.5          14         6    98.61             24.5
## Aigle             64.1        62.0          21        12     8.52             16.5
## Aubonne           66.9        67.5          14         7     2.27             19.1
## Avenches          68.9        60.7          19        12     4.43             22.7
## Cossonay          61.7        69.3          22         5     2.82             18.7
## Echallens         68.3        72.6          18         2    24.20             21.2
## Grandson          71.7        34.0          17         8     3.30             20.0
## Lausanne          55.7        19.4          26        28    12.11             20.2
## La Vallee         54.3        15.2          31        20     2.15             10.8
## Lavaux            65.1        73.0          19         9     2.84             20.0
## Morges            65.5        59.8          22        10     5.23             18.0
## Moudon            65.0        55.1          14         3     4.52             22.4
## Nyone             56.6        50.9          22        12    15.14             16.7
## Orbe              57.4        54.1          20         6     4.20             15.3
## Oron              72.5        71.2          12         1     2.40             21.0
## Payerne           74.2        58.1          14         8     5.23             23.8
## Paysd&#39;enhaut      72.0        63.5           6         3     2.56             18.0
## Rolle             60.5        60.8          16        10     7.72             16.3
## Vevey             58.3        26.8          25        19    18.46             20.9
## Yverdon           65.4        49.5          15         8     6.10             22.5
## Conthey           75.5        85.9           3         2    99.71             15.1
## Entremont         69.3        84.9           7         6    99.68             19.8
## Herens            77.3        89.7           5         2   100.00             18.3
## Martigwy          70.5        78.2          12         6    98.96             19.4
## Monthey           79.4        64.9           7         3    98.22             20.2
## St Maurice        65.0        75.9           9         9    99.06             17.8
## Sierre            92.2        84.6           3         3    99.46             16.3
## Sion              79.3        63.1          13        13    96.83             18.1
## Boudry            70.4        38.4          26        12     5.62             20.3
## La Chauxdfnd      65.7         7.7          29        11    13.79             20.5
## Le Locle          72.7        16.7          22        13    11.22             18.9
## Neuchatel         64.4        17.6          35        32    16.92             23.0
## Val de Ruz        77.6        37.6          15         7     4.97             20.0
## ValdeTravers      67.6        18.7          25         7     8.65             19.5
## V. De Geneve      35.0         1.2          37        53    42.34             18.0
## Rive Droite       44.7        46.6          16        29    50.43             18.2
## Rive Gauche       42.8        27.7          22        29    58.33             19.3</code></pre>
<p>Tietoa aineistosta ja sen muuttujista saa <code>?swiss</code>-komennon avulla.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="harjoituskerta-1.html#cb58-1" aria-hidden="true" tabindex="-1"></a>?swiss</span></code></pre></div>
</div>
<div id="european-social-survey-2016" class="section level3 hasAnchor" number="1.6.2">
<h3><span class="header-section-number">1.6.2</span> European Social Survey 2016<a href="harjoituskerta-1.html#european-social-survey-2016" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Kurssin opetuksessa käytetään European Social Survey (ESS) Suomen
aineistoa vuodelta 2016.
<ul>
<li>Haastattelututkimus, joka kartoittaa yhteiskunnalliseen
kehitykseen liittyvää arvojen, asenteiden ja käyttäytymisen
muutosta. ESS kerää vertailukelpoista surveydataa noin 30
Euroopan maasta.
<a href="https://www.fsd.tuni.fi/fi/aineistot/kansainvalisia-aineistosarjoja/european-social-survey/">Lisätietoja</a></li>
</ul></li>
<li>Uusin saatavissa oleva Suomen aineisto on 8. kierrokselta (vuosi
2016). Sen teemoina on mm. ilmastonmuutos, energiavarmuus ja
hyvinvointi
<ul>
<li>FSD3217 European Social Survey 2016: Suomen aineiston on
Tietoarkiston kautta vapaasti käytettävissä ilman
rekisteröitymistä.</li>
</ul></li>
<li><strong><a href="http://urn.fi/urn:nbn:fi:fsd:T-FSD3217">Lataa aineisto</a></strong> ja tallenna se työkansioosi</li>
<li>Aineisto kannattaa tallentaa omaan (UEFin) o365 OneDriveen, jolloin se on käytettävissä kaikilla työasemilla</li>
</ul>
</div>
<div id="aineiston-ottaminen-käyttöön" class="section level3 hasAnchor" number="1.6.3">
<h3><span class="header-section-number">1.6.3</span> Aineiston ottaminen käyttöön<a href="harjoituskerta-1.html#aineiston-ottaminen-käyttöön" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Kun aineisto on työkansiossa, sen saa käyttöön <code>read.csv</code> -komennolla. Komennossa kerrotaan, että vastaajien arvoja erottaa
puolipiste (<code>sep = ";"</code>) ja tiedoston ensimmäinen rivi sisältää muuttujien nimet (<code>header = TRUE</code>).</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="harjoituskerta-1.html#cb59-1" aria-hidden="true" tabindex="-1"></a>ess <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;ess2016.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="valmiin-aineiston-tarkastelu" class="section level2 hasAnchor" number="1.7">
<h2><span class="header-section-number">1.7</span> Valmiin aineiston tarkastelu<a href="harjoituskerta-1.html#valmiin-aineiston-tarkastelu" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Siinä missä muissa tilasto-ohjelmissa (esim. SPSS ja Stata) voi olla
auki vain yksi aineisto kerrallaan, R:ssä voi olla samanaikaisesti auki
monta aineistoa, muuttujaa ja matriisia. Tästä syystä komennoissa pitää
myös viitata siihen aineistoon, jolla analyysin haluaa tehdä. R
käsittelee aineistoa matriisina. Esimerkiksi tällä kurssilla käytettävän
ESS-aineiston R käsittää 1925*309 matriisina.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="harjoituskerta-1.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(ess)</span></code></pre></div>
<pre><code>## [1] 1925  309</code></pre>
<p>Aineiston sisältämät muuttujat voidaan listata <code>str()</code>-komennolla. Tuloksena saadaan
muuttujien nimet, tietotyypit ja kymmenen ensimmäisen havainnon arvot.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="harjoituskerta-1.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(ess)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1925 obs. of  309 variables:
##  $ fsd_no: int  3217 3217 3217 3217 3217 3217 3217 3217 3217 3217 ...
##  $ fsd_vr: int  1 1 1 1 1 1 1 1 1 1 ...
##  $ fsd_id: int  1 2 3 4 5 6 7 8 9 10 ...
##  $ fsd_li: chr  &quot;(A) vapaasti käytettävissä ilman rekisteröitymistä (CC BY 4.0)&quot; &quot;(A) vapaasti käytettävissä ilman rekisteröitymistä (CC BY 4.0)&quot; &quot;(A) vapaasti käytettävissä ilman rekisteröitymistä (CC BY 4.0)&quot; &quot;(A) vapaasti käytettävissä ilman rekisteröitymistä (CC BY 4.0)&quot; ...
##  $ a1_min: int  0 30 60 30 5 120 60 121 30 90 ...
##  $ a2    : int  5 5 5 5 5 2 5 2 5 5 ...
##  $ a3_min: int  180 120 360 300 120 0 180 0 300 120 ...
##  $ a4    : int  0 8 8 7 9 7 7 8 6 7 ...
##  $ a5    : int  3 7 9 6 8 5 8 7 6 7 ...
##  $ a6    : int  0 8 7 7 4 6 4 7 6 7 ...
##  $ b1    : int  2 4 2 2 3 2 3 2 2 2 ...
##  $ b2    : int  2 2 3 3 2 1 2 3 2 3 ...
##  $ b3    : int  2 2 2 4 3 2 2 2 2 5 ...
##  $ b4    : int  3 3 3 3 4 2 2 3 3 3 ...
##  $ b5    : int  3 2 2 3 3 2 2 2 2 4 ...
##  $ b6    : int  7 8 8 8 4 3 7 7 5 4 ...
##  $ b7    : int  7 8 9 8 8 7 9 7 6 2 ...
##  $ b8    : int  9 10 6 9 9 7 9 9 7 7 ...
##  $ b9    : int  3 8 10 6 3 3 4 8 6 2 ...
##  $ b10   : int  6 6 6 5 3 3 4 8 5 5 ...
##  $ b11   : int  8 8 6 7 4 3 7 7 5 4 ...
##  $ b12   : int  8 8 7 8 8 4 9 7 8 6 ...
##  $ b13   : int  3 1 1 1 1 1 1 1 3 1 ...
##  $ b14   : int  NA 7 1 10 12 98 1 1 NA 10 ...
##  $ b15   : int  2 2 2 2 2 2 2 2 2 1 ...
##  $ b16   : int  2 2 2 2 2 2 2 2 2 2 ...
##  $ b17   : int  2 2 2 1 2 1 1 2 1 2 ...
##  $ b18   : int  1 2 2 2 2 2 2 2 2 2 ...
##  $ b19   : int  2 2 1 2 1 2 1 2 2 1 ...
##  $ b20   : int  2 2 2 2 2 2 2 2 2 1 ...
##  $ b21   : int  1 2 2 2 1 2 2 1 2 1 ...
##  $ b22   : int  2 1 1 2 2 2 2 2 2 1 ...
##  $ b23   : int  1 2 1 1 1 2 1 1 1 1 ...
##  $ b24   : int  1 NA 1 10 12 NA 1 1 10 10 ...
##  $ b25   : int  2 NA 2 2 2 NA 2 1 2 2 ...
##  $ b26   : int  10 3 8 5 2 7 8 10 10 3 ...
##  $ b27   : int  9 8 8 8 9 7 9 8 9 8 ...
##  $ b28   : int  6 8 6 9 10 5 6 7 7 6 ...
##  $ b29   : int  4 8 6 5 0 4 5 8 5 0 ...
##  $ b30   : int  4 7 7 8 8 4 8 7 8 5 ...
##  $ b31   : int  9 9 7 8 9 8 9 8 4 8 ...
##  $ b32   : int  10 9 8 8 9 9 9 7 5 8 ...
##  $ b33   : int  2 4 4 3 2 2 3 3 4 1 ...
##  $ b33a  : int  5 3 4 5 5 4 5 4 5 5 ...
##  $ b34   : int  3 1 2 1 1 1 1 2 1 5 ...
##  $ b35   : int  4 5 4 5 5 5 5 4 5 5 ...
##  $ b36   : int  3 2 2 2 1 1 2 2 1 1 ...
##  $ b37   : int  2 5 4 6 7 6 8 6 5 5 ...
##  $ b38   : int  2 2 1 1 1 3 2 2 1 2 ...
##  $ b39   : int  3 3 2 1 1 3 3 2 1 2 ...
##  $ b40   : int  4 3 9 1 2 3 3 2 2 2 ...
##  $ b41   : int  6 5 8 6 8 3 8 8 7 7 ...
##  $ b42   : int  5 8 8 6 10 6 9 8 9 9 ...
##  $ b43   : int  3 9 8 5 10 3 6 6 6 6 ...
##  $ c1    : int  10 8 8 7 9 9 8 8 9 8 ...
##  $ c2    : int  6 5 5 4 6 5 6 6 6 4 ...
##  $ c3    : int  4 4 1 3 3 3 3 3 4 3 ...
##  $ c4    : int  3 3 3 3 3 3 4 3 4 2 ...
##  $ c5    : int  1 1 2 2 2 2 2 1 2 2 ...
##  $ c6    : int  1 1 1 2 1 2 1 2 1 1 ...
##  $ c7    : int  1 1 1 3 2 3 1 1 1 1 ...
##  $ c8    : int  3 2 3 1 3 2 3 3 2 3 ...
##  $ c9    : int  10 6 7 9 8 9 10 10 6 7 ...
##  $ c10   : int  5 6 6 7 8 9 9 8 6 4 ...
##  $ c11   : int  2 2 2 1 1 2 2 1 1 2 ...
##  $ c12   : int  NA NA NA 1 1 NA NA 1 1 NA ...
##  $ c13   : int  1 1 2 NA NA 2 2 NA NA 1 ...
##  $ c14   : int  1 1 NA NA NA NA NA NA NA 1 ...
##  $ c15   : int  0 0 0 3 1 6 3 4 6 2 ...
##  $ c16   : int  7 6 7 5 7 7 7 6 7 7 ...
##  $ c17   : int  7 7 7 2 6 6 7 6 6 7 ...
##  $ c18   : int  2 2 2 2 2 2 2 2 2 2 ...
##  $ c19_1 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c19_2 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c19_3 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c19_4 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c19_5 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c19_6 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c19_7 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c19_8 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c19_9 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c19_10: int  0 0 0 0 0 0 0 0 0 0 ...
##  $ c20   : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ c22   : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ c24   : int  NA NA NA NA NA NA NA NA NA NA ...
##  $ c25_1 : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ c25_2 : int  NA NA NA NA NA NA NA 2 NA 3 ...
##  $ c26   : int  2 2 2 2 2 2 2 2 2 2 ...
##  $ c27   : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ c29   : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ c32   : int  2 2 3 2 2 3 1 1 1 3 ...
##  $ c33   : int  NA NA NA NA NA NA 8 8 7 NA ...
##  $ c34   : int  NA NA NA NA NA NA 2 0 0 NA ...
##  $ c35   : int  NA NA NA NA NA NA 9 8 8 NA ...
##  $ c36   : int  10 7 NA 6 4 NA NA NA NA NA ...
##  $ c37   : int  8 1 NA 1 1 NA NA NA NA NA ...
##  $ c38   : int  9 5 NA 4 6 NA NA NA NA NA ...
##  $ c39   : int  NA NA 3 NA NA 5 NA NA NA 2 ...
##  $ c40   : int  NA NA 0 NA NA 0 NA NA NA 0 ...
##   [list output truncated]</code></pre>
<p>Lista on puutteellinen, koska aineisto on niin suuri. Aineistolla operoiminen on kuitenkin vaikeaa jos muuttujien nimiä ei
tiedetä. Ne saadaan esille <code>names()</code>-komennolla.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="harjoituskerta-1.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ess)</span></code></pre></div>
<pre><code>##   [1] &quot;fsd_no&quot; &quot;fsd_vr&quot; &quot;fsd_id&quot; &quot;fsd_li&quot; &quot;a1_min&quot; &quot;a2&quot;     &quot;a3_min&quot; &quot;a4&quot;     &quot;a5&quot;     &quot;a6&quot;     &quot;b1&quot;     &quot;b2&quot;     &quot;b3&quot;    
##  [14] &quot;b4&quot;     &quot;b5&quot;     &quot;b6&quot;     &quot;b7&quot;     &quot;b8&quot;     &quot;b9&quot;     &quot;b10&quot;    &quot;b11&quot;    &quot;b12&quot;    &quot;b13&quot;    &quot;b14&quot;    &quot;b15&quot;    &quot;b16&quot;   
##  [27] &quot;b17&quot;    &quot;b18&quot;    &quot;b19&quot;    &quot;b20&quot;    &quot;b21&quot;    &quot;b22&quot;    &quot;b23&quot;    &quot;b24&quot;    &quot;b25&quot;    &quot;b26&quot;    &quot;b27&quot;    &quot;b28&quot;    &quot;b29&quot;   
##  [40] &quot;b30&quot;    &quot;b31&quot;    &quot;b32&quot;    &quot;b33&quot;    &quot;b33a&quot;   &quot;b34&quot;    &quot;b35&quot;    &quot;b36&quot;    &quot;b37&quot;    &quot;b38&quot;    &quot;b39&quot;    &quot;b40&quot;    &quot;b41&quot;   
##  [53] &quot;b42&quot;    &quot;b43&quot;    &quot;c1&quot;     &quot;c2&quot;     &quot;c3&quot;     &quot;c4&quot;     &quot;c5&quot;     &quot;c6&quot;     &quot;c7&quot;     &quot;c8&quot;     &quot;c9&quot;     &quot;c10&quot;    &quot;c11&quot;   
##  [66] &quot;c12&quot;    &quot;c13&quot;    &quot;c14&quot;    &quot;c15&quot;    &quot;c16&quot;    &quot;c17&quot;    &quot;c18&quot;    &quot;c19_1&quot;  &quot;c19_2&quot;  &quot;c19_3&quot;  &quot;c19_4&quot;  &quot;c19_5&quot;  &quot;c19_6&quot; 
##  [79] &quot;c19_7&quot;  &quot;c19_8&quot;  &quot;c19_9&quot;  &quot;c19_10&quot; &quot;c20&quot;    &quot;c22&quot;    &quot;c24&quot;    &quot;c25_1&quot;  &quot;c25_2&quot;  &quot;c26&quot;    &quot;c27&quot;    &quot;c29&quot;    &quot;c32&quot;   
##  [92] &quot;c33&quot;    &quot;c34&quot;    &quot;c35&quot;    &quot;c36&quot;    &quot;c37&quot;    &quot;c38&quot;    &quot;c39&quot;    &quot;c40&quot;    &quot;c41&quot;    &quot;c42&quot;    &quot;c43&quot;    &quot;c44&quot;    &quot;d1&quot;    
## [105] &quot;d2&quot;     &quot;d3&quot;     &quot;d4&quot;     &quot;d5&quot;     &quot;d6&quot;     &quot;d7&quot;     &quot;d8&quot;     &quot;d9&quot;     &quot;d10&quot;    &quot;d11&quot;    &quot;d12&quot;    &quot;d13&quot;    &quot;d14&quot;   
## [118] &quot;d15&quot;    &quot;d16&quot;    &quot;d17&quot;    &quot;d18&quot;    &quot;d19&quot;    &quot;d21&quot;    &quot;d22&quot;    &quot;d23&quot;    &quot;d24&quot;    &quot;d25&quot;    &quot;d26&quot;    &quot;d27&quot;    &quot;d28&quot;   
## [131] &quot;d29&quot;    &quot;d30&quot;    &quot;d31&quot;    &quot;d32&quot;    &quot;e1&quot;     &quot;e2&quot;     &quot;e3&quot;     &quot;e4&quot;     &quot;e5&quot;     &quot;e6&quot;     &quot;e7&quot;     &quot;e8&quot;     &quot;e9&quot;    
## [144] &quot;e10&quot;    &quot;e11&quot;    &quot;e12&quot;    &quot;e13&quot;    &quot;e14&quot;    &quot;e15&quot;    &quot;e16&quot;    &quot;e17&quot;    &quot;e18&quot;    &quot;e20&quot;    &quot;e21&quot;    &quot;e22&quot;    &quot;e23&quot;   
## [157] &quot;e24&quot;    &quot;e25&quot;    &quot;e26&quot;    &quot;e27&quot;    &quot;e28&quot;    &quot;e29&quot;    &quot;e30&quot;    &quot;e31&quot;    &quot;e32&quot;    &quot;e33&quot;    &quot;e34&quot;    &quot;e35&quot;    &quot;e36&quot;   
## [170] &quot;e37&quot;    &quot;e38&quot;    &quot;e39&quot;    &quot;e40&quot;    &quot;e41&quot;    &quot;f1&quot;     &quot;f2_1&quot;   &quot;f3_1&quot;   &quot;f1_2&quot;   &quot;f2_2&quot;   &quot;f3_2&quot;   &quot;f4_2&quot;   &quot;f1_3&quot;  
## [183] &quot;f2_3&quot;   &quot;f3_3&quot;   &quot;f4_3&quot;   &quot;f1_4&quot;   &quot;f2_4&quot;   &quot;f3_4&quot;   &quot;f4_4&quot;   &quot;f1_5&quot;   &quot;f2_5&quot;   &quot;f3_5&quot;   &quot;f4_5&quot;   &quot;f1_6&quot;   &quot;f2_6&quot;  
## [196] &quot;f3_6&quot;   &quot;f4_6&quot;   &quot;f1_7&quot;   &quot;f2_7&quot;   &quot;f3_7&quot;   &quot;f4_7&quot;   &quot;f5&quot;     &quot;f6&quot;     &quot;f7&quot;     &quot;f8&quot;     &quot;f9&quot;     &quot;f10&quot;    &quot;f11&quot;   
## [209] &quot;f12&quot;    &quot;f13&quot;    &quot;f14&quot;    &quot;f15&quot;    &quot;f16&quot;    &quot;f17a_1&quot; &quot;f17a_2&quot; &quot;f17a_3&quot; &quot;f17a_4&quot; &quot;f17a_5&quot; &quot;f17a_6&quot; &quot;f17a_7&quot; &quot;f17a_8&quot;
## [222] &quot;f17a_9&quot; &quot;f17b&quot;   &quot;f17c&quot;   &quot;f17d&quot;   &quot;f18&quot;    &quot;f19&quot;    &quot;f20&quot;    &quot;f21&quot;    &quot;f22&quot;    &quot;f23&quot;    &quot;f24&quot;    &quot;f25&quot;    &quot;f26&quot;   
## [235] &quot;f27&quot;    &quot;f28&quot;    &quot;f29&quot;    &quot;f30&quot;    &quot;f31&quot;    &quot;f32&quot;    &quot;f33&quot;    &quot;f35&quot;    &quot;f36&quot;    &quot;f37&quot;    &quot;f38&quot;    &quot;f39&quot;    &quot;f40&quot;   
## [248] &quot;f41&quot;    &quot;f42&quot;    &quot;f43&quot;    &quot;f44&quot;    &quot;f45a_1&quot; &quot;f45a_2&quot; &quot;f45a_3&quot; &quot;f45a_4&quot; &quot;f45a_5&quot; &quot;f45a_6&quot; &quot;f45a_7&quot; &quot;f45a_8&quot; &quot;f45a_9&quot;
## [261] &quot;f45b&quot;   &quot;f45c&quot;   &quot;f45d&quot;   &quot;f46&quot;    &quot;f47&quot;    &quot;f50&quot;    &quot;f51&quot;    &quot;f52&quot;    &quot;f53&quot;    &quot;f55&quot;    &quot;f56&quot;    &quot;f57&quot;    &quot;f59&quot;   
## [274] &quot;f60&quot;    &quot;f61_1&quot;  &quot;f61_2&quot;  &quot;h1a&quot;    &quot;h1b&quot;    &quot;h1c&quot;    &quot;h1d&quot;    &quot;h1e&quot;    &quot;h1f&quot;    &quot;h1g&quot;    &quot;h1h&quot;    &quot;h1i&quot;    &quot;h1j&quot;   
## [287] &quot;h1k&quot;    &quot;h1l&quot;    &quot;h1m&quot;    &quot;h1n&quot;    &quot;h1o&quot;    &quot;h1p&quot;    &quot;h1q&quot;    &quot;h1r&quot;    &quot;h1s&quot;    &quot;h1t&quot;    &quot;h1u&quot;    &quot;i1&quot;     &quot;i2&quot;    
## [300] &quot;i3&quot;     &quot;i4&quot;     &quot;i5&quot;     &quot;i6&quot;     &quot;i7&quot;     &quot;i8&quot;     &quot;i9&quot;     &quot;i10&quot;    &quot;bv1&quot;    &quot;paino&quot;</code></pre>
<div id="muuttujien-uudelleennimeäminen" class="section level3 hasAnchor" number="1.7.1">
<h3><span class="header-section-number">1.7.1</span> Muuttujien uudelleennimeäminen<a href="harjoituskerta-1.html#muuttujien-uudelleennimeäminen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Tarvittaessa sarakkeiden nimet (= muuttujien nimet) voidaan muuttaa vastaamaan sisältöä.
R:ssä ei kuitenkaan ole tähän helppoa keinoa, vaan nimet on muutettava käsin esimerkiksi
seuraavanlaisella koodilla.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="harjoituskerta-1.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ess)[<span class="fu">names</span>(ess) <span class="sc">==</span> <span class="st">&quot;f2_1&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;sukupuoli&quot;</span></span></code></pre></div>
<p>Puretaan edellinen osiin selkeyden vuoksi. Käytännössä komennossa on kyse arvojen sijoittamisesta ess-aineistoon.
Kun hakasulkeet poistetaan komennosta, jäljelle jää helpommin ymmärrettävä <code>names(ess) &lt;- "sukupuoli"</code>.
Kaikkien sarakkeiden nimi ei kuitenkaan voi olla ‘sukupuoli’, joten nimiä on rajattava hakasulkeilla.
Rajaus tehdään hakasulkeilla, jossa <code>[names(ess) == "f2_1]</code> rajaa halutun joukon niihin sarakkaisiin, jonka nimi on ‘f2_1’.</p>
<p>HUOM! Hakasulkeissa voisi yhtä hyvin käyttää sarakkeen numeroa (=176), mutta myös niiden etsiminen on työlästä.
Muuttujan sarakkeen numeron saa etsittyä esimerkiksi seuraavalla komennolla:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="harjoituskerta-1.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">names</span>(ess) <span class="sc">==</span> <span class="st">&quot;f11&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 208</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="harjoituskerta-1.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ess)[<span class="dv">208</span>] <span class="ot">&lt;-</span> <span class="st">&quot;sivsaat&quot;</span></span></code></pre></div>
</div>
<div id="muuttujien-mitta-asteikon-muuttaminen" class="section level3 hasAnchor" number="1.7.2">
<h3><span class="header-section-number">1.7.2</span> Muuttujien mitta-asteikon muuttaminen<a href="harjoituskerta-1.html#muuttujien-mitta-asteikon-muuttaminen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R on tarkempi siitä, minkälaisia muuttujia analyyseissa käytetään. Muuttujan mitta-asteikko vaikuttaa esimerkiksi kuvailevien tunnuslukujen ja graafien tulostamiseen. Lähtökohtaisesti kaikki muuttujat ESS-aineistossa ovat välimatka-asteikollisia ja seuraavassa muutetaan tällä kurssilla käytettävät muuttujat luokittelu- tai järjestysasteikollisiksi. Huomaa, että kolmen ensimmäisen muuttujat kohdalla on astus <code>order = TRUE</code>, joka asettaa muuttujat järjestysasteikollisiksi. Jälkimmäisistä tämä puuttuu ja muuttujista tulee luokitteluasteikollisia.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="harjoituskerta-1.html#cb70-1" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>ilmasto <span class="ot">&lt;-</span> <span class="fu">factor</span>(ess<span class="sc">$</span>d24, <span class="at">order =</span> <span class="cn">TRUE</span>)</span>
<span id="cb70-2"><a href="harjoituskerta-1.html#cb70-2" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>terveys <span class="ot">&lt;-</span> <span class="fu">factor</span>(ess<span class="sc">$</span>c7, <span class="at">order =</span> <span class="cn">TRUE</span>)</span>
<span id="cb70-3"><a href="harjoituskerta-1.html#cb70-3" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>turvallisuus <span class="ot">&lt;-</span> <span class="fu">factor</span>(ess<span class="sc">$</span>c6, <span class="at">order =</span> <span class="cn">TRUE</span>)</span>
<span id="cb70-4"><a href="harjoituskerta-1.html#cb70-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-5"><a href="harjoituskerta-1.html#cb70-5" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>sivsaat <span class="ot">&lt;-</span> <span class="fu">factor</span>(ess<span class="sc">$</span>sivsaat)</span>
<span id="cb70-6"><a href="harjoituskerta-1.html#cb70-6" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>sukupuoli <span class="ot">&lt;-</span> <span class="fu">factor</span>(ess<span class="sc">$</span>sukupuoli)</span>
<span id="cb70-7"><a href="harjoituskerta-1.html#cb70-7" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>koulutus <span class="ot">&lt;-</span> <span class="fu">factor</span>(ess<span class="sc">$</span>f15)</span>
<span id="cb70-8"><a href="harjoituskerta-1.html#cb70-8" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>asuinymp <span class="ot">&lt;-</span> <span class="fu">factor</span>(ess<span class="sc">$</span>f14)</span>
<span id="cb70-9"><a href="harjoituskerta-1.html#cb70-9" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>elake <span class="ot">&lt;-</span> <span class="fu">factor</span>(ess<span class="sc">$</span>f17a_6)</span></code></pre></div>
</div>
</div>
<div id="muuttujien-arvojen-muuttaminen" class="section level2 hasAnchor" number="1.8">
<h2><span class="header-section-number">1.8</span> Muuttujien arvojen muuttaminen<a href="harjoituskerta-1.html#muuttujien-arvojen-muuttaminen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="puuttuvien-arvojen-luominen" class="section level3 hasAnchor" number="1.8.1">
<h3><span class="header-section-number">1.8.1</span> Puuttuvien arvojen luominen<a href="harjoituskerta-1.html#puuttuvien-arvojen-luominen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Juuri tuotu aineisto on täysin koskematon eikä R tiedä, mitkä arvot ovat
esimerkiksi puuttuvia arvoja. Tarkastellaan seuraavassa muuttujaa c1,
“Kuinka onnellinen olet?”. Vastausvaihtoehtojen tulisi vaihdella välillä 0-10, mutta havaitaan
joukossa olevan myös muitakin arvoja.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="harjoituskerta-1.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(ess<span class="sc">$</span>c1)</span></code></pre></div>
<pre><code>## 
##   0   1   2   3   4   5   6   7   8   9  10  99 
##   3   7   5  15  20  65  76 218 618 689 206   3</code></pre>
<p>Huomataan, että arvot vaihtelevat välillä 1–99. ESS:n ohjekirjan mukaan
arvo 99 on koodattu tarkoittamaan “En osaa sanoa” -vaihtoehtoa.
Sijoitetaan arvo NA niihin soluihin, joiden arvo on 99.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="harjoituskerta-1.html#cb73-1" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>b30[ess<span class="sc">$</span>c1 <span class="sc">==</span> <span class="dv">99</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span></code></pre></div>
<p>Sama operaatio voidaan tehdä hiukan mutkikkaamin replace-komennolla.
Komento sijoittaa aineiston sarakkeeseen b30 (ess$b30) kyseisen
sarakkeen, jonka arvot 99 on korvattu NA:lla.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="harjoituskerta-1.html#cb74-1" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>c1 <span class="ot">&lt;-</span> <span class="fu">replace</span>(ess<span class="sc">$</span>c1, ess<span class="sc">$</span>c1 <span class="sc">==</span> <span class="dv">99</span>, <span class="cn">NA</span>)</span>
<span id="cb74-2"><a href="harjoituskerta-1.html#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(ess<span class="sc">$</span>c1)</span></code></pre></div>
<pre><code>## 
##   0   1   2   3   4   5   6   7   8   9  10 
##   3   7   5  15  20  65  76 218 618 689 206</code></pre>
</div>
</div>
<div id="uuden-muuttujan-luominen-aineistoon" class="section level2 hasAnchor" number="1.9">
<h2><span class="header-section-number">1.9</span> Uuden muuttujan luominen aineistoon<a href="harjoituskerta-1.html#uuden-muuttujan-luominen-aineistoon" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Aineistoon voidaan luoda uusia muuttujia helposti. Seuraavassa luodaan ensin muuttuja sukupuoli,
jolle asetetaan arvoksi vain puuttuvia vastauksia, jonka jälkeen se lisätään ess-data kehikkoon.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="harjoituskerta-1.html#cb76-1" aria-hidden="true" tabindex="-1"></a>asema <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb76-2"><a href="harjoituskerta-1.html#cb76-2" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>asema <span class="ot">&lt;-</span> asema</span></code></pre></div>
</div>
<div id="muuttujan-poistaminen-aineistosta" class="section level2 hasAnchor" number="1.10">
<h2><span class="header-section-number">1.10</span> Muuttujan poistaminen aineistosta<a href="harjoituskerta-1.html#muuttujan-poistaminen-aineistosta" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Muuttuja tai muuttujia voidaan poistaa aineistosta samalla logiikalla.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="harjoituskerta-1.html#cb77-1" aria-hidden="true" tabindex="-1"></a>ess<span class="sc">$</span>asema <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<!-- LAURI! Tähän väliin voisi sopia se muuttujien arvojen tekeminen. -->

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tervetuloa-sosiaalitieteiden-r-kurssille.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="harjoituskerta-2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01-harjoituskerta-1.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
